<!-- HERO Tramites -->
<section class="hero-certimas">
  <div class="hero-wrap">
    <div class="hero-text">
      <h1>
        ¡Preliquida tus trámites
        <span class="highlight">sin fila ni estrés!</span>
      </h1>
      <p>
        Agenda en línea y recibe atención personalizada.
      </p>

      <button class="btn-video" (click)="abrirModal()">
        Comenzar Ahora
        <i class="bi bi-calendar-event"></i>
      </button>
    </div>

    <div class="hero-image">
      <img src="assets/carro-tramites.png" alt="Auto CertiMás" />
    </div>
  </div>
</section>

<!--Sección Tramites-->
<section class="tramites-section">
  <h2>¿Qué trámites ofrecemos?</h2>

  <div class="tramites-grid">
    <div class="tramite-card" *ngFor="let tramite of tramites; let i = index" (click)="toggleTramite(i)">
      <div class="tramite-header">
        <img [src]="tramite.icon" alt="{{ tramite.title }}" class="tramite-icon" />
        <span>{{ tramite.title }}</span>
        <i class="bi" [ngClass]="{'bi-chevron-up': tramite.open, 'bi-chevron-down': !tramite.open}"></i>
      </div>

      <div class="tramite-content" *ngIf="tramite.open">
        <h4>Documentos</h4>
        <ul>
          <li *ngFor="let doc of tramite.docs">
            <i class="bi bi-check-circle-fill"></i> {{ doc }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!--Sección Agenda-->
<section class="agenda-section">
  <h2>¿Por qué agendar con nosotros?</h2>

  <div class="agenda-grid">
    <div
      class="agenda-item"
      *ngFor="let item of beneficios"
      (mouseenter)="item.hover = true"
      (mouseleave)="item.hover = false"
    >
      <div class="icon-wrapper">
        <img
          [src]="item.hover ? item.iconHover : item.icon"
          [alt]="item.title"
          class="agenda-icon"
        />
      </div>
      <h3 [innerHTML]="item.title"></h3>
    </div>
  </div>
</section>

<!-- === SECCIÓN AGENDA TU TRÁMITE === -->
<section class="agenda-pasos">
  <div class="agenda-blur-layer">
    <div class="agenda-container">
      <!-- Columna Izquierda -->
      <div class="agenda-info">
        <h2>Agenda tu<br><strong>trámite en 3 pasos</strong></h2>

        <ul class="agenda-list">
          <li>
            <span class="agenda-num">1</span>
            <p>Selecciona el trámite</p>
          </li>
          <li>
            <span class="agenda-num">2</span>
            <p>Elige fecha y sede</p>
          </li>
          <li>
            <span class="agenda-num">3</span>
            <p>Recibe confirmación y asistencia</p>
          </li>
        </ul>

        <button class="agenda-btn" (click)="abrirModal()">
          <span>Comenzar Ahora</span>
          <i class="bi bi-calendar-event"></i>
        </button>
      </div>

      <!-- Columna Derecha -->
      <div class="agenda-image">
        <img src="assets/carro-agenda.png" alt="Carro Agenda" />
      </div>
    </div>
  </div>
</section>

<!--Sección FAQ-->
<section class="tramites-page">
  <app-faq
    [title]="'Preguntas Frecuentes para Trámites'"
    [items]="faqItems"
    [multiple]="false">
  </app-faq>
</section>

<!-- COMPONENTE BLOG -->
<app-blog-section
  [heading]="'Blog'"
  [posts]="blogPosts">
</app-blog-section>

<!-- 
  ✅ MODAL DE TRÁMITES - UNA SOLA INSTANCIA
  El modal se controla completamente a través del servicio TramitesModalService
-->
<app-tramites-modal (cerrar)="cerrarModal()"></app-tramites-modal>